# Face Recognition + Mosaic

얼굴 인식 기반 선택적 모자이크 시스템 스켈레톤입니다.

---

## 프로젝트 개요

- **주제:** 얼굴 인식 기반 선택적 모자이크 시스템
- **목표:** 단체 사진(또는 영상)과 기준 인물 한 명의 이미지를 입력하면 해당 인물을 제외한 모든 얼굴을 자동 감지해 모자이크 처리하는 파이프라인을 구축한다.
- 개인정보 보호를 위해 특정 인물만 노출하고 나머지는 익명화하며, 이후 실시간 스트리밍(웹캠/RTSP)으로 확장 가능하도록 설계한다.

---

## 데이터셋 확보 방안

- **Labeled Faces in the Wild (LFW)**  
  https://datasets.activeloop.ai/docs/ml/datasets/lfw-dataset/?utm_source=chatgpt.com  
  https://github.com/ZhenghaoXiao32/Face-Recognition-in-Action-LFW
- 필요 시 커스텀 데이터(동의 확보)를 통해 기준 인물 임베딩을 강화한다.

---

## 핵심 알고리즘 스택

1. **얼굴 감지 – MTCNN**  
   - CNN 기반으로 얼굴 위치와 눈·코 랜드마크를 정밀 탐지.
2. **얼굴 임베딩 추출 – ArcFace**  
   - Angular Margin Loss를 사용하는 최신 모델로, 다양한 얼굴 각도에 강인하다.
   - FaceNet 대비 정확도가 높아 추천.
3. **얼굴 비교 – L2 Distance**  
   - 각 얼굴 임베딩과 기준 인물 임베딩 간 L2(유클리드) 거리 계산.
   - Threshold를 설정해 기준 인물만 구별.
4. **모자이크 처리 – OpenCV**  
   - 얼굴 영역에 픽셀 블러 또는 가우시안 블러 적용.
   - 기준 인물은 제외하고 나머지 얼굴만 모자이크 처리.

---

## 인터페이스 추상화

- **입력 계층:** 기준 인물 이미지와 단체 사진/영상 프레임 로드.
- **인식 파이프라인:** 얼굴 감지 → 정규화 → 임베딩 추출 → 기준 인물과 비교.
- **후처리:** 모자이크 대상 마스크 생성, ROI에 픽셀화 적용.
- **출력:** 결과 이미지를 저장하거나 스트림으로 전달.
- 모듈 간 I/O 타입, 책임 분리는 `docs/interface-abstract.md`에서 확인한다.

---

## 로드맵 요약

1. 스켈레톤 정리 및 설정 로더 검증.
2. LFW 기반 감지/임베딩 구현.
3. Threshold 및 모자이크 파라미터 튜닝.
4. 인터페이스 추상화 문서 지속 업데이트.
5. 실시간 스트리밍 확장 계획 수립.

---

## 참고 문서

- 요구사항·데이터셋·알고리즘 상세: `docs/face-mosaic-issue.md`
- 모듈 인터페이스 도식: `docs/interface-abstract.md`
